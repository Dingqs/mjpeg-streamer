<!DOCTYPE>
<html>
	<head>
		<title>Web Socket Test</title>
		<meta charset="utf-8">
		<style type="text/css">
		#container { width:640px; margin: 0 auto; text-align: center; }
		#port { border: 1px solid #000 }
		#play-buttons { margin: 10px auto; }
		</style>
	</head>
	<body>
		<div id="container">
			<h1>Web Socket Streamer</h1>
			<canvas id="port" width="640" height="480"></canvas>
			
			<div id="play-buttons">
				<input id="send-text" type="text" />
				<button id="send-button" type="button">Send</button>
				<button id="close-button" type="button">Disconnect</button>
			</div>
			
			
		</div>
		
		
		
		<script type="text/javascript">
var canvas, ws;
		
/* Event handlers. */
document.getElementById("send-button").onclick = function() {
  	ws.send(document.getElementById("send-text").value);
};

document.getElementById("close-button").onclick = function() {
  	ws.close();
};

canvas = document.getElementById("port").getContext("2d");

ws = new WebSocket("ws://localhost:8080/MJpegStreamer/ws?foo=bar&baz=bar");
ws.onerror = function(error) {
	console.log(error)  
};

ws.onmessage = function(message) {
  	console.log(message);
};

		</script>
	</body>
</html>